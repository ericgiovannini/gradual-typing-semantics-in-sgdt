* Term Model

** CBPV

A judgmental cbpv model is

1. A cartesian category ğ“’ of "pure functions"
2. A subset of the objects of ğ“’ called the "value types"
3. A ğ“Ÿğ“’-enriched category ğ“” of "linear functions", whose objects are
   "computation types"
4. ğ“Ÿğ“’-enriched presheaf W on ğ“”

Type structure:
1. ğ“’ has product types if the value types are closed under products
2. ğ“’ has pure function types if the vtypes are closed under exponentials
3. ğ“’ has sum types if the value types are closed under *distributive*
   coproducts
4. ğ“’ has a â–¹ type if for every A âˆˆ VType, the presheaf
   P(Î“) = â–¹ (ğ“’ [ Î“ , A ]) is representable
5. ğ“’ has linear function types if every Hom_ğ“”(B,B') is representable
6. ğ“’ has thunks if every W B is representable

Similarly:
1. ğ“” has function types if it has powers of ğ“’-types
2. ğ“” has returners if for every vtype A, the enriched covariant
   presheaf Q(B)_Î“ = W B (Î“ Ã— A) is (enriched) representable
3. ğ“” has product types if it has enriched products
4. ğ“” has
This isn't quite right tho, because W needs to respect the powers...
*** Alt

A judgmental cbpv model is

1. A cartesian category ğ“’ of "pure functions"
2. A distinguished subset of ğ“’ objects called "value types"
3. A ğ“Ÿ ğ“’-enriched category ğ“” of "linear functions"
4. A distinguished object W âˆˆ ğ“” of "machines"
5. A distinguished subset of ğ“” objects called "computation types"

** CBV/CBN

Special cases:
1. a judgmental cbv model is
   - A cartesian category ğ“’
   - A subset of types, which determines a ğ“Ÿğ“’-enriched category ğ“£
   - A ğ“Ÿğ“’-enriched presheaf ğ“” on ğ“£
   - A ğ“Ÿğ“’-enriched promonad structure on ğ“£ with underlying profunctor:
     (ğ“› A B) Î“ = ğ“” B (Î“ Ã— A)

   From this data, we can generate a cbpv model with ğ“’ as the
   cartesian category and defining a "Kleisli" category whose objects
   are ğ“£ + 1 with
     (ğ“” (inl A) B) Î“ = ğ“› A B Î“
     (ğ“” (inr *) B) Î“ = ğ“” Î“ B

   This can be generated for instance from
   - A cartesian category ğ“’ and a strong monad T on ğ“’
2. a judgmental cbn model is
   - A cartesian category ğ“’
   - a subset of types determining a wide subcategory ğ“£
   - A subcategory? ğ“› of ğ“£ of "linear" functions or should it be a
     procomonad?

   This can be generated for instance from a cartesian category ğ“’ and a (strong?) comonad W on ğ“’

3. A cartesian category ğ“’ of contexts and "pure functions"
4. Chosen subsets of the objects of ğ“’ called "types"
5. For each type A âˆˆ Types, a presheaf Eff A âˆˆ ğ“Ÿ ğ“’
   1. A natural element ret âˆˆ Y A â‡’ Eff A
   2. A natural transformation bind âˆˆ (Y A â‡’ Eff B) â‡’ Eff A â‡’ Eff B
   3. satisfying ...

      
* Relational Model

To get a "relational" model, take the above and do it all internal to
Cat. To make it more like relations, we should require it to be
2-posetal (i.e. at most one 2-cell) and be fibrant (i.e., functions
induce relations).

This is all in the internal language of the topos of trees.

An intensional cbv Î» model with relations consists of:

1. A double category ğ“’ that is cartesian, locally posetal and fibrant.
2. A chosen subset of objects of ğ“’ called types.
3. For each type A âˆˆ Types, a double presheaf  that is locally posetal and fibrant



1. A cartesian locally posetal double category ğ“’.

   Locally posetal means that there is at most one two cell of any
   given framing.

   Cartesian means it has finite products

2. A locally posetal double category of types and effectful morphisms
   ğ“”

   

3. A locally posetal double profunctor Tm : ğ“’ o-* Eff


