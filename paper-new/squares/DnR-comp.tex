% https://q.uiver.app/#q=WzAsMTAsWzAsMCwiQiJdLFsyLDAsIkInJyJdLFsyLDEsIkInIl0sWzIsMiwiQiciXSxbMiwzLCJCIl0sWzAsMSwiQiJdLFswLDIsIkIiXSxbMCwzLCJCIl0sWzEsMCwiQiciXSxbMSwxLCJCJyJdLFswLDgsImQiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJiYXJyZWQifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFs4LDEsImQnIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiYmFycmVkIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbNiwzLCJkIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiYmFycmVkIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbNyw0LCJyKEIpIiwyLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiYmFycmVkIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMSwyLCJwX3tkJ30iXSxbMiwzLCJcXGlkIl0sWzMsNCwicF9kIl0sWzAsNSwiXFxwdWxsX2QoXFxkZWxscF97ZCd9KSIsMl0sWzUsNiwiXFxpZCIsMl0sWzYsNywiXFxkZWxscF9kIiwyXSxbNSw5LCJkIiwwLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiYmFycmVkIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbOSwyLCJyKEInKSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImJhcnJlZCJ9LCJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzgsOSwiXFxkZWxscF97ZCd9IiwyXSxbMTksMTYsIlxcZG5yX2QiLDEseyJzaG9ydGVuIjp7InNvdXJjZSI6MjAsInRhcmdldCI6MjB9LCJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJub25lIn0sImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMTcsMjIsIigqKSIsMSx7InNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH0sInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6Im5vbmUifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFsyMiwxNCwiXFxkbnJfe2QnfSIsMSx7InNob3J0ZW4iOnsic291cmNlIjoyMCwidGFyZ2V0IjoyMH0sInN0eWxlIjp7ImJvZHkiOnsibmFtZSI6Im5vbmUifSwiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dXQ==
\[\begin{tikzcd}[ampersand replacement=\&,column sep=3.15em]
	B \& {B'} \& {B''} \\
	B \& {B'} \& {B'} \\
	B \&\& {B'} \\
	B \&\& B
	\arrow["d", "\shortmid"{marking}, no head, from=1-1, to=1-2]
	\arrow["{d'}", "\shortmid"{marking}, no head, from=1-2, to=1-3]
	\arrow["d", "\shortmid"{marking}, no head, from=3-1, to=3-3]
	\arrow["{r(B)}"', "\shortmid"{marking}, no head, from=4-1, to=4-3]
	\arrow[""{name=0, anchor=center, inner sep=0}, "{p_{d'}}", from=1-3, to=2-3]
	\arrow["\id", from=2-3, to=3-3]
	\arrow[""{name=1, anchor=center, inner sep=0}, "{p_d}", from=3-3, to=4-3]
	\arrow[""{name=2, anchor=center, inner sep=0}, "{\pull_d(\dellp_{d'})}"', from=1-1, to=2-1]
	\arrow["\id"', from=2-1, to=3-1]
	\arrow[""{name=3, anchor=center, inner sep=0}, "{\dellp_d}"', from=3-1, to=4-1]
	\arrow["d", "\shortmid"{marking}, no head, from=2-1, to=2-2]
	\arrow["{r(B')}", "\shortmid"{marking}, no head, from=2-2, to=2-3]
	\arrow[""{name=4, anchor=center, inner sep=0}, "{\dellp_{d'}}"', from=1-2, to=2-2]
	\arrow["{\dnr_d}"{description}, draw=none, from=3, to=1]
	\arrow["{(*)}"{description}, draw=none, from=2, to=4]
	\arrow["{\dnr_{d'}}"{description}, draw=none, from=4, to=0]
\end{tikzcd}\]